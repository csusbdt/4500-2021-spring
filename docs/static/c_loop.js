export function c_loop(t){this.room=t,this.block_goto=!1,this.order=10,this.frame_duration=.1,this.frames=[],this.frame_index=-1,this.t=0}c_loop.prototype.ord=function(t){return this.order=t,this},c_loop.prototype.dur=function(t){return this.frame_duration=t,this},c_loop.prototype.add=function(t){return this.frames.push(t),this},c_loop.prototype.stop=function(){this.frame_index=0,this.t=0,this.room.remove_updatable(this),this.room.remove_drawable(this)},c_loop.prototype.start=function(){if(0===this.frames.length)throw new Error("no frames");this.frame_index=0,this.t=0,this.room.insert_updatable(this),this.room.insert_drawable(this)},c_loop.prototype.update=function(t){this.t+=t,this.t<this.frame_duration||(this.t=0,++this.frame_index,this.frame_index===this.frames.length&&(this.frame_index=0))},c_loop.prototype.draw=function(t){this.frames[this.frame_index].draw(t)};