import{get_room}from"/4500-2021-spring/static/rooms.js";export function c_goto(t,o){this.room=t,this.next_room_name=o,this.block_goto=!1,this.fail_set=[],this.next_room=null}c_goto.prototype.fails=function(t){return this.fail_set.push(t),this},c_goto.prototype.start=function(){this.room.insert_updatable(this),get_room(this.next_room_name).then((t=>{this.next_room=t})).catch((t=>{this.room.remove_updatable(this),this.fail_set.forEach((t=>t.start()))}))},c_goto.prototype.update=function(){null!==this.next_room&&this.room.updatables.every((t=>!t.block_goto))&&(this.room.stop(),this.next_room.start())};