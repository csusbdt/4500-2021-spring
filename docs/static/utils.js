export function message(...e){g_bg.style.display="none",g_fg.style.display="none",g_message_div.style.display="block",e.forEach((e=>{g_message_div.innerHTML+="<br>"+e}))}export function register_service_worker(){return"serviceWorker"in navigator?navigator.serviceWorker.register("/4500-2021-spring/sw.js").then((e=>{e.addEventListener("updatefound",(n=>{e.installing.addEventListener("statechange",(e=>{"activated"===e.target.state&&window.location.reload()}))}))})):Promise.resolve()}export function load_script(e){return new Promise((function(n,r){const t=document.createElement("script");t.type="module",t.src=e,t.onload=()=>{n(t)},t.onerror=()=>{r(`${e} failed to load`)},document.head.append(t)}))}export function load_image(e){return fetch(e).then((e=>e.blob())).then((function(e){return new Promise(((n,r)=>{const t=new Image;return t.onload=e=>{URL.revokeObjectURL(t.src),n(t)},t.onerror=e=>{r(e)},t.src=URL.createObjectURL(e),t}))}))}export function load_json(e){return fetch(e).then((e=>e.json()))}export function remove(e,n){const r=e.indexOf(n);-1!==r&&e.splice(r,1)}export function insert(e,n){if(!e.includes(n)){for(let r=e.length;r>0;--r)if(e[r-1].order<=n.order)return void e.splice(r,0,n);e.unshift(n)}}