export function message(...e){g_bg.style.display="none",g_fg.style.display="none",g_message_div.style.display="block",g_message_div.onclick=e=>{e.preventDefault(),g_message_div.innerHTML="",g_bg.style.display="block",g_fg.style.display="block",g_message_div.style.display="none"},e.forEach((e=>{g_message_div.innerHTML+="<br>"+e}))}export function register_service_worker(){return"serviceWorker"in navigator?navigator.serviceWorker.register("/4500-2021-spring/sw.js").then((e=>{e.addEventListener("updatefound",(t=>{e.installing.addEventListener("statechange",(e=>{"activated"===e.target.state&&window.location.reload()}))}),{once:!0})})).then(navigator.serviceWorker.ready):Promise.resolve()}export function load_script(e){for(let t=0;t<document.scripts.length;++t)if(document.scripts[t].src===e)return Promise.resolve(document.scripts[t]);return new Promise((function(t,n){const r=document.createElement("script");r.type="module",r.src=e,r.onload=()=>{t(r)},r.onerror=()=>{n(`${e} failed to load`)},document.head.append(r)}))}export function load_image(e){return fetch(e).then((e=>e.blob())).then((function(e){const t=new Image;return t.src=URL.createObjectURL(e),t}))}export function load_json(e){return fetch(e).then((e=>e.json()))}export function unload_image(e){URL.revokeObjectURL(e.src)}export function remove(e,t){const n=e.indexOf(t);e.splice(n,1)}export function insert(e,t){for(let n=e.length;n>0;--n)if(e[n-1].order<=t.order)return void e.splice(n,0,t);e.unshift(t)}